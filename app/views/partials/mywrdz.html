<div ng-hide='user' ng-cloak class="row text-center">
    <h2>
        <a ng-click='launchSignUp()'>

            Sign up for wrdz.
        </a>
    </h2>
</div>

<div id="mywrdz-body" ng-cloak class='row' ng-controller='MyWrdzCtrl'>
    <div class="col-sm-2 text-left">
        <div id="mywrdz-left">
            <div class="row">
                <div class="col-sm-1 icon ion-calendar"></div>
                <div class="col-sm-9">

                    <input type="text" class="form-control" show-button-bar='false' datepicker-popup="dd-MMMM-yy" max="today" show-weeks='false' ng-model="dt" is-open="opened" ng-required="true" close-text="Close" />
                </div>
            </div>
            <br>

            <label for="">Filter:</label>&nbsp;&nbsp;&nbsp;

            <div class="btn-group filter-button-group">
                <button type="button" class="btn btn-default  btn-sm" ng-model="filterModel" btn-radio="'All'">All</button>
                <button type="button" class="btn btn-default btn-sm" ng-model="filterModel" btn-radio="'Public'">Public</button>
                <button type="button" class="btn btn-default btn-sm" ng-model="filterModel" btn-radio="'Private'">Private</button>
            </div>
            <br>
            <br>
<!--             <label for="">Sort:</label>&nbsp;&nbsp;&nbsp;

            <div class="btn-group filter-button-group ">
                <button type="button" class="btn btn-default btn-sm" ng-model="sortModel" btn-radio="'Date'">Date</button>
                <button type="button" class="btn btn-default btn-sm" ng-model="sortModel" btn-radio="'Popularity'">Popularity</button>
            </div>
            <br>
            <br> -->
        
            <button type="button" class="btn btn-jo btn-sm dropdown-toggle" data-toggle="dropdown">
                <span class="icon ion-pricetags"></span>&nbsp;&nbsp;Filter Topics&nbsp;&nbsp;<span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li  ng-repeat="topic in topicOptions | orderBy: '-count'">
                    <a ng-click='addTopic(topic)' href="">
                    {{topic.title}}
                    </a>
                </li>
            </ul>

            <div class="row">
               <span ng-repeat="top in topicsModel">
                    <span class="label label-primary tag-label">{{top.title}} <span ng-click='removeTopic(top)' class="icon tag-remove-x ion-close"></span></span>
                </span>
            </div>
        </div>
    </div>

    <div class="col-sm-8 col-xs-10">

        <div id='me-middle' class="col-sm-10 col-sm-offset-1 col-xs-12">
            
            <accordion close-others="true">
                <div ng-repeat="doc in docList | orderBy: '-updated_at'">
                    

                    <accordion-group  ng-click='switchDoc(doc)' ng-dblclick='openDocInWrite(doc)' class="me-list-item">
                        <accordion-heading>
                            
                            <div class="read-list-title">
                                <span ng-show='doc.has_title'>
                                    {{doc.title}}
                                </span>
                                <span ng-hide='doc.has_title'>
                                    {{doc.sample | limitTo: 100}}
                                </span>
                            </div>
                            <div class="read-list-date">

                                {{moment(doc.updated_at).format('MMMM Do, h:mma')}}
                            </div>
                        </accordion-heading>

                        <div ng-bind-html='doc.body' id="mywrdz-doc-show-body"></div>

                        
                    </accordion-group>
                </div>
            </accordion>
        </div>


    </div>



    <div class="col-sm-2 pull-right text-right">
        <div id='mywrdz-right' ng-if='showDoc'>
            
            <button ng-click='openDocInWrite(showDoc)' class="btn btn-jo">Open</button>
            <div ng-show='showDoc.is_published' id='mywrdz-pub-info' class="row">
                

                <div ng-if='showDoc.is_published' id="write-pub-info" class='panel text-center panel-default'>

                    <em ng-show='showDoc.pub_doc.is_visible'>Public</em>
                    <em ng-hide='showDoc.pub_doc.is_visible'>Not Public</em>
                    <br>
                    <br>
     

                    <div class="row">
                        <div class="col-sm-3 col-sm-offset-1">
                            <span class="icon ion-arrow-up-a"></span>
                        </div>
                        <div class="col-sm-6 text-right">
                            {{showDoc.pub_doc.up_votes}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3 col-sm-offset-1">
                            <span class="icon ion-heart"></span>
                        </div>
                        <div class="col-sm-6 text-right">
                            {{showDoc.pub_doc.hearts}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3 col-sm-offset-1">
                            <span class="icon icon ion-eye"></span>
                        </div>
                        <div class="col-sm-6 text-right">
                            {{showDoc.pub_doc.views}}
                        </div>
                    </div>

                    

                    <div class="row">
                        <div class="col-sm-12">
                            
                            <button  ng-click='openPubOptionsModal()' class="btn btn-jo  btn-sm">
                                Options
                            </button>

                            
                        </div>
                    </div>

                </div>
            </div>

            <button class='btn-jo btn btn-sm' ng-click='openTopicModal()'>
                <span class="ion-pricetags icon"></span> &nbsp;Topics
            </button>

            <span ng-repeat='topic in showDoc.topics'>
                <span class='label label-primary tag-label'>{{topic.title}}</span>
            </span>
        </div>

    </div>
</div>